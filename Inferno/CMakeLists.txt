set(CMAKE_ASM_NASM_LINK_EXECUTABLE "ld <CMAKE_ASM_NASM_LINK_FLAGS> <LINK_FLAGS> <OBJECTS>  -o <TARGET> <LINK_LIBRARIES>")
set(CMAKE_ASM_NASM_SOURCE_FILE_EXTENSIONS ${CMAKE_ASM_NASM_SOURCE_FILE_EXTENSIONS} s S)
set(CMAKE_ASM_NASM_OBJECT_FORMAT elf64)

set(INFERNO_SOURCES
	Drivers/COM/COM.cpp
	Drivers/IO/IO.cpp
	Drivers/GDT/Load.s
	main.cpp
)

add_executable(Inferno ${INFERNO_SOURCES})

set_target_properties(Inferno PROPERTIES LINK_DEPENDS ${CMAKE_CURRENT_SOURCE_DIR}/linker.ld)
